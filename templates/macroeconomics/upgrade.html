{% extends 'base.html' %}

{% block title %}Become a Full Member{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Restricted Content</h2>
    <p>This content is only accessible to full members.</p>
    <button id="payment-selection-button" class="btn btn-primary">Click here to become a full member.</button>
</div>

<script type="text/javascript">
    const paymentSelectionButton = document.getElementById('payment-selection-button');

    paymentSelectionButton.addEventListener('click', function() {
        window.location.href = "{% url 'payments:payment_selection' %}";
    });
</script>

<!-- <script src="https://js.stripe.com/v3/"></script>
<script type="text/javascript">
    const stripe = Stripe('{{ STRIPE_PUBLIC_KEY }}');
    const checkoutButton = document.getElementById('checkout-button');

    checkoutButton.addEventListener('click', function() {
        fetch("{% url 'payments:create_checkout' %}", {
            method: 'POST',
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
            },
        })
        .then(response => response.json())
        .then(session => {
            return stripe.redirectToCheckout({ sessionId: session.id });
        })
        .then(result => {
            if (result.error) {
                alert(result.error.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script> -->
{% endblock %}